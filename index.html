<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DSR Exchange</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://s3.tradingview.com/tv.js"></script>
</head>
<body>

<!-- LOGIN OVERLAY -->
<div id="loginOverlay" class="overlay">
  <div class="login-box">
    <h2>DSR Exchange</h2>
    <p>Login se tumhara pura trading data save rahega (local).</p>
    <label for="loginUser">Username</label>
    <input type="text" id="loginUser" placeholder="e.g. dsr_oggy">
    <button id="loginBtn">Login</button>
  </div>
</div>

<header>
  <div class="brand">
    <div class="brand-left">
      <img src="logo.png" alt="DSR Logo" class="logo">
      <div>
        <h1>DSR Exchange</h1>
        <span id="userLabel">Not logged in</span>
      </div>
    </div>
  </div>
  <div class="metrics">
    <div class="metric">
      <span class="label">Balance</span>
      <span id="balance">100000.00 ₹</span>
    </div>
    <div class="metric">
      <span class="label">Equity</span>
      <span id="equity">100000.00 ₹</span>
    </div>
    <div class="metric">
      <span class="label">Realized P&amp;L</span>
      <span id="realizedPnl">0.00 ₹</span>
    </div>
  </div>

  <div class="add-funds">
    <input type="number" id="addFundsAmount" placeholder="Add ₹ amount">
    <button id="addFundsBtn">Add Funds</button>
  
  <div class="logout-box">
    <button id="logoutBtn">Logout</button>
  </div>
</header>

<section id="marketsScreen" class="screen active">
  <div class="markets-header">
    <div class="mh-title">Futures</div>
    <div class="mh-sub">DSR Exchange Markets</div>
  </div>
  <div class="markets-filters">
    <button class="mf active">ALL</button>
    <button class="mf">Layer 1</button>
    <button class="mf">DeFi</button>
  </div>
  <table class="markets-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Last Price</th>
        <th>24h Chg.</th>
      </tr>
    </thead>
    <tbody id="marketsBody"></tbody>
  </table>
</section>


<div id="tradeScreen" class="screen">
<div class="symbol-bar">
  <div class="field">
    <label for="symbolSelect">Symbol</label>
    <select id="symbolSelect">
      <option value="BINANCE:BTCUSDT">BTCUSDT</option>
      <option value="BINANCE:ETHUSDT">ETHUSDT</option>
      <option value="BINANCE:BNBUSDT">BNBUSDT</option>
      <option value="BINANCE:SOLUSDT">SOLUSDT</option>
    </select>
  </div>
  <div class="field">
    <label for="tfSelect">Timeframe</label>
    <select id="tfSelect">
      <option value="1">1m</option>
      <option value="5">5m</option>
      <option value="15" selected>15m</option>
      <option value="60">1H</option>
    </select>
  </div>
</div>

<div class="top-row">
  <div id="chartContainer">
    <div id="chart"></div>
  </div>
  <div class="right-tools">
<div class="rr-box">
  <div>Risk: <span id="rrRisk">-</span></div>
  <div>Reward: <span id="rrReward">-</span></div>
  <div>R:R: <span id="rrRatio">-</span></div>
  <div>Risk %: <span id="rrRiskPct">-</span></div>
</div>

    <div class="field full">
      <label for="qty">Qty</label>
      <input type="number" id="qty" value="1" min="1">
    </div>
    <div class="field full">
      <label for="leverage">Leverage (x)</label>
      <input type="number" id="leverage" value="10" min="1" max="125">
    </div>
    <div class="field full">
      <label for="sl">Stop Loss (price)</label>
      <input type="number" id="sl" placeholder="optional">
    </div>
    <div class="field full">
      <label for="tp">Target (price)</label>
      <input type="number" id="tp" placeholder="optional">
    </div>
    <div class="buttons">
      <button id="buyBtn">BUY / LONG (B)</button>
      <button id="sellBtn">SELL / SHORT (S)</button>
    </div>
    <button id="fsBtn" class="fs-btn">Fullscreen (F)</button>
  </div>
</div>



<section id="bottom">
  <div class="panel">
    <h2>Open Positions</h2>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Side</th>
          <th>Qty</th>
          <th>Entry</th>
          <th>SL</th>
          <th>TP</th>
          <th>Unreal P&amp;L</th>
          <th>Close</th>
        </tr>
      </thead>
      <tbody id="positionsBody"></tbody>
    </table>
  </div>
  <div class="panel">
    <h2>Closed Trades</h2>
    <table>
      <thead>
        <tr>
          <th>Time</th>
          <th>Side</th>
          <th>Qty</th>
          <th>Entry</th>
          <th>Exit</th>
          <th>P&amp;L</th>
        </tr>
      </thead>
      <tbody id="historyBody"></tbody>
    </table>
  </div>
</section>

<section id="panels">
  <div class="panel" id="orderbook">
    <h2>Orderbook</h2>
  </div>
  <div class="panel" id="trades">
    <h2>Recent Trades</h2>
  </div>
</section>



</div>

<nav class="bottom-nav">
  <button class="nav-btn active" id="navMarkets">Markets</button>
  <button class="nav-btn" id="navTrade">Trade</button>
</nav>

<footer class="footer-bar">© 2025 DSR OGGY — All Rights Reserved</footer>

<!-- notification -->
<div id="notif" class="notif hidden"></div>

<script src="script.js"></script>
</body>
</html>
